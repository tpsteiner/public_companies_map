(this.webpackJsonpauditors_map=this.webpackJsonpauditors_map||[]).push([[0],{27:function(e,t,n){e.exports=n.p+"static/media/filers500.f635617a.csv"},28:function(e,t,n){e.exports=n.p+"static/media/state_centers.3b98a23a.csv"},29:function(e,t,n){e.exports=n.p+"static/media/firms.fd70d507.csv"},36:function(e,t,n){e.exports=n(50)},41:function(e,t,n){},42:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(2),o=n.n(i),s=(n(41),n(42),n(20)),l=n(9),c=n(10),m=n(12),u=n(11),f=n(25),h=n.n(f),d=n(13),p=n(26),g=n.n(p),v=n(27),_=n.n(v),k=n(28),b=n.n(k),E=n(29),S=n.n(E),y=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={marker:a.props.marker},a}return Object(c.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.marker!==e.marker&&this.setState({marker:this.props.marker})}},{key:"render",value:function(){var e=this.state.marker;if(0===Object.keys(e).length)return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("p",null,"Select a marker to show details..."));var t=[["Company",e["Issuer Name"]],["Stock Ticker",e["Issuer Ticker"]],["Sector",e.sector_name],["Industry",e.industry_name],["Fiscal year end",e.fiscal_year_end],["Auditor",e["Firm Name"]],["Audit Lead Partner",e["Engagement Partner Name"]],["Auditor Location",e["Firm Issuing City"]+", "+e["Firm Issuing State"]]];return r.a.createElement("table",null,r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e[0]),r.a.createElement("td",null,e[1]))}))))}}]),n}(a.Component),C=n(19),w={osm:function(e,t,n){var a=String.fromCharCode(97+(e+t+n)%3);return"https://".concat(a,".tile.openstreetmap.org/").concat(n,"/").concat(e,"/").concat(t,".png")}},z={geo:null,firm:null},O=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).zoomIn=function(){a.setState({zoom:Math.min(a.state.zoom+1,18)})},a.zoomOut=function(){a.setState({zoom:Math.max(a.state.zoom-1,1)})},a.handleBoundsChange=function(e){var t=e.center,n=e.zoom;e.bounds,e.initial;a.setState({center:t,zoom:n})},a.handleMarkerClick=function(e){e.event;var t=e.payload;e.anchor;a.setState({selectedMarker:t})},a.handleGeoChange=function(e){try{z.geo=e.value}catch(i){z.geo=null}var t=[],n=Object(s.a)({},e),r=a.state.filter_cnt;if(null===e&&2===r)return t=a.state.filers.filter((function(e){return e["Firm Name"]===z.firm})),void a.setState({filers_L1:t,filter_cnt:r-1});null!==e?0===r?(t=a.state.filers.filter((function(e){return e.business_state===n.value})),a.setState({filers_L1:t,filter_cnt:r+1})):1===r&&(t=a.state.filers_L1.filter((function(e){return e.business_state===n.value})),a.setState({filers_L2:t,filter_cnt:r+1})):a.setState({filter_cnt:r-1})},a.handleFirmChange=function(e){try{z.firm=e.label}catch(i){z.firm=null}var t=[],n=Object(s.a)({},e),r=a.state.filter_cnt;if(null===e&&2===r)return t=a.state.filers.filter((function(e){return e.business_state===z.geo})),void a.setState({filers_L1:t,filter_cnt:r-1});null!==e?0===r?(t=a.state.filers.filter((function(e){return e["Firm Name"]===n.label})),a.setState({filers_L1:t,filter_cnt:r+1})):1===r&&(t=a.state.filers_L1.filter((function(e){return e["Firm Name"]===n.label})),a.setState({filers_L2:t,filter_cnt:r+1})):a.setState({filter_cnt:r-1})},a.state={center:[43.3,-84.5390101],zoom:6,provider:"osm",metaWheelZoom:!1,twoFingerDrag:!1,animate:!1,zoomSnap:!0,mouseEvents:!0,touchEvents:!0,minZoom:1,maxZoom:18,filers:[],filers_L1:[],filers_L2:[],states:[],state_options:[],firm_options:[],selectedMarker:{},filter_cnt:0,width:document.body.clientWidth,height:window.screen.availHeight},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;Object(d.a)(_.a).then((function(t){t.forEach((function(e){e.cik=+e.cik,e.lat=+e.lat,e.lng=+e.lng})),e.setState({filers:t})})),Object(d.a)(b.a).then((function(t){t.forEach((function(e){e.latitude=+e.latitude,e.longitude=+e.longitude})),e.setState({states:t}),e.setState({state_options:t.map((function(e){return{value:e.state,label:e.name}}))})})),Object(d.a)(S.a).then((function(t){t.forEach((function(t){e.state.firm_options.push({label:t["Firm Name"]})})),e.setState({firm_options:t.map((function(e){return{label:e["Firm Name"]}}))})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.center,a=t.zoom,i=t.provider,o=t.animate,s=t.metaWheelZoom,l=t.twoFingerDrag,c=t.zoomSnap,m=t.mouseEvents,u=t.touchEvents,f=t.minZoom,d=t.maxZoom,p=t.filter_cnt,v=1200>this.state.width?this.state.width-10:1200,_=650>this.state.height/2?this.state.height/2:650,k=[];return 0===p?k=[]:1===p?k=this.state.filers_L1:2===p&&(k=this.state.filers_L2),r.a.createElement("div",null,r.a.createElement(C.a,{id:"geo-select",options:this.state.state_options,onChange:this.handleGeoChange,isClearable:!0}),r.a.createElement(C.a,{id:"firm-select",options:this.state.firm_options,onChange:this.handleFirmChange,isClearable:!0}),r.a.createElement("h1",{style:{textAlign:"center",fontSize:"large"}},"Public Companies and their Auditors"),r.a.createElement("div",{style:{marginTop:20}},r.a.createElement("div",{style:{maxWidth:v,margin:"0 auto"}},r.a.createElement(h.a,{limitBounds:"edge",center:n,zoom:a,provider:w[i],onBoundsChanged:this.handleBoundsChange,onClick:this.handleClick,animate:o,metaWheelZoom:s,twoFingerDrag:l,zoomSnap:c,mouseEvents:m,touchEvents:u,minZoom:f,maxZoom:d,width:v,height:_,boxClassname:"pigeon-filters"},k.map((function(t){return r.a.createElement(g.a,{key:t.cik,anchor:[t.lat,t.lng],payload:t,onClick:e.handleMarkerClick})}))))),r.a.createElement(y,{marker:this.state.selectedMarker}))}}]),n}(a.Component);var j=function(){return r.a.createElement(O,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.238db0bf.chunk.js.map